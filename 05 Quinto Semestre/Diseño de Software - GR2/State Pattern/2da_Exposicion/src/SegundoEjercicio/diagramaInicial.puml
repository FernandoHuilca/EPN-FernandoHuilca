@startuml
title: MÃ¡quina de chicles.

interface Estado <<interface>>{
    + {abstract} insertarCuarto();
    + {abstract} expulsarCuarto();
    + {abstract} girarManivela();
    + {abstract} dispensar();
}

class MaquinaDeChicles{
    - estadoGanador
    - estadoTieneCuarto;
    - estadoNoCuarto;
    - estadoVendido;
    - estadoAgotado;
    - estadoActual : Estado
    - contadorChicles : int
    --
    + insertarCuarto() : void
    + expulsarCuarto() : void
    + girarManivela() : void
    # liberarChicle() : void
    # setEstado() : void
    # getEstadoTieneCuarto: Estado
    ...
}


class EstadoVendido{
    - maquina : MaquinaDeChicles
    --
     + insertarCuarto();
     + expulsarCuarto();
     + girarManivela();
     + dispensar();
}
class EstadoAgotado{
    - maquina : MaquinaDeChicles
    --
     + insertarCuarto();
     + expulsarCuarto();
     + girarManivela();
     + dispensar();
}
class EstadoNoCuarto{
    - maquina : MaquinaDeChicles
    --
     + insertarCuarto();
     + expulsarCuarto();
     + girarManivela();
     + dispensar();
}
class EstadoTieneCuarto{
    - ganadorRandom : Random
    - maquina : MaquinaDeChicles
    --
     + insertarCuarto();
     + expulsarCuarto();
     + girarManivela();
     + dispensar();
}
class EstadoGanador{
    - maquina : MaquinaDeChicles
    --
     + insertarCuarto();
     + expulsarCuarto();
     + girarManivela();
     + dispensar();
}


MaquinaDeChicles o--R> Estado
EstadoAgotado ..U|> Estado
EstadoVendido ..U|> Estado
EstadoNoCuarto ..U|> Estado
EstadoTieneCuarto ..L|> Estado

EstadoGanador ..|> Estado

EstadoVendido --u> MaquinaDeChicles

@enduml